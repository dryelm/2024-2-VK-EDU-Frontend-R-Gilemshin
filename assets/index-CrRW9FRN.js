(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function y(){const e=document.createElement("header");e.classList.add("header"),e.innerHTML=`
    <span class="material-symbols-outlined">menu</span>
    <article>
        <h5>Messenger</h5>
    </article>
    <span class="material-symbols-outlined">search</span>`,document.body.appendChild(e)}const C="/2024-2-VK-EDU-Frontend-R-Gilemshin/assets/avatar-D6foRZ8l.png",L="Я";function v(e,t,s){const a=document.createElement("div"),n=document.querySelector(".messages");a.classList.add("message"),a.innerText=`${t} (${s}): ${e}`,n.appendChild(a),a.scrollIntoView({behavior:"smooth"})}function _(e,t,s){let a=JSON.parse(localStorage.getItem("messages"))||[];a.push({text:e,sender:t,time:s}),localStorage.setItem("messages",JSON.stringify(a))}function b(e){e.preventDefault();const t=document.querySelector(".form-input input"),s=t.value;if(s.trim()!==""){const a=new Date().toLocaleTimeString();v(s,L,a),_(s,L,a),t.value=""}}function x(){(JSON.parse(localStorage.getItem("messages"))||[]).forEach(t=>{v(t.text,t.sender,t.time)})}function M(){const e=document.createElement("form");e.classList.add("form"),e.action="/";const t=document.createElement("header");t.classList.add("form__header");const s=document.createElement("span");s.classList.add("material-symbols-outlined"),s.textContent="arrow_back",s.addEventListener("click",()=>{document.body.innerHTML="",E(),console.log("sdasd")}),t.appendChild(s);const a=document.createElement("img");a.id="avatar",a.src=C,t.appendChild(a);const n=document.createElement("article"),o=document.createElement("h5");o.textContent="челик";const c=document.createElement("h6");c.textContent="был 2 часа назад",n.appendChild(o),n.appendChild(c),t.appendChild(n);const l=document.createElement("span");l.classList.add("material-symbols-outlined"),l.textContent="search",t.appendChild(l);const m=document.createElement("span");m.classList.add("material-symbols-outlined"),m.textContent="more_vert",t.appendChild(m),e.appendChild(t);const u=document.createElement("div");u.classList.add("messages");const d=document.createElement("div");d.classList.add("others_message");const p=document.createElement("p");p.classList.add("others_message__text"),p.textContent="Есть над чем задуматься: непосредственные участники технического прогресса рассмотрены исключительно в разрезе маркетинговых и финансовых предпосылок.",d.appendChild(p);const h=document.createElement("div");h.classList.add("others_message__time"),h.textContent="04:20",d.appendChild(h),u.appendChild(d),e.appendChild(u);const i=document.createElement("div");i.classList.add("form-input");const r=document.createElement("input");r.name="message-text",r.placeholder="Cообщение",r.type="text",i.appendChild(r);const f=document.createElement("span");f.classList.add("material-symbols-outlined"),f.textContent="attachment",i.appendChild(f),e.appendChild(i),document.body.appendChild(e),x(),e.addEventListener("submit",b),r.addEventListener("keydown",function(g){g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),e.dispatchEvent(new Event("submit")))})}function T(){const e=[{avatar:"/public/avatar.png",name:"Дженнифер",preview:"Есть над чем задуматься: непосредственные участники технического прогресса рассмотрены исключительно в разрезе маркетинговых и финансовых предпосылок.",time:"13:25",status:"done_all"},{avatar:"avatar.png",name:"Дженнифер",preview:"Есть над чем задуматься",time:"13:25",status:"done"}],t=document.createElement("ul");t.classList.add("chat_list"),e.forEach(s=>{const a=document.createElement("li");a.classList.add("personal_chat"),a.innerHTML=`
            <img class="personal_chat__avatar" />
            <h6 class="personal_chat__name">${s.name}</h6>
            <p class="personal_chat__preview">${s.preview}</p>
            <p class="personal_chat__time">${s.time}</p>
            <span class="personal_chat__status material-symbols-outlined">${s.status}</span>
        `,a.addEventListener("click",()=>{document.body.innerHTML="",M()}),t.appendChild(a)}),document.body.appendChild(t)}function w(){const e=document.createElement("button");e.classList.add("add_chat_button"),e.innerHTML='<span class="material-symbols-outlined">edit</span>',document.body.appendChild(e)}function E(){y(),T(),w();var e=document.getElementsByClassName("personal_chat__avatar");Array.from(e).forEach(t=>{t.src=C})}document.addEventListener("DOMContentLoaded",()=>{document.body.innerHTML="",E()});
